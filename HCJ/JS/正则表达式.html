<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一. 正则基础 | Hello M27</title>
    <meta name="description" content="男孩你怂了,提起往事你眼红了!">
    <link rel="icon" href="/favicon/M.ico">
    
    <link rel="preload" href="/assets/css/0.styles.65880131.css" as="style"><link rel="preload" href="/assets/js/app.441505dd.js" as="script"><link rel="preload" href="/assets/js/5.582427b2.js" as="script"><link rel="prefetch" href="/assets/js/10.80bb7bf5.js"><link rel="prefetch" href="/assets/js/11.b8089b65.js"><link rel="prefetch" href="/assets/js/12.4c897f4f.js"><link rel="prefetch" href="/assets/js/13.615b3eb4.js"><link rel="prefetch" href="/assets/js/14.700bcd1c.js"><link rel="prefetch" href="/assets/js/15.10ab42ca.js"><link rel="prefetch" href="/assets/js/16.0d915bfa.js"><link rel="prefetch" href="/assets/js/2.000c3701.js"><link rel="prefetch" href="/assets/js/3.01ad3761.js"><link rel="prefetch" href="/assets/js/4.433e83f2.js"><link rel="prefetch" href="/assets/js/6.e4f319bf.js"><link rel="prefetch" href="/assets/js/7.ae182591.js"><link rel="prefetch" href="/assets/js/8.b2fe0813.js"><link rel="prefetch" href="/assets/js/9.4c83bfb7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.65880131.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container md-page-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hello M27</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/HCJ/" class="nav-link router-link-active">HTML + CSS + JS</a></div><div class="nav-item"><a href="/VRW/" class="nav-link">Vue + React + Webpack</a></div><div class="nav-item"><a href="/NHQ/" class="nav-link">Node + Http + 前端性能优化</a></div><div class="nav-item"><a href="https://github.com/Msdhu/Msdhu.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/HCJ/" class="nav-link router-link-active">HTML + CSS + JS</a></div><div class="nav-item"><a href="/VRW/" class="nav-link">Vue + React + Webpack</a></div><div class="nav-item"><a href="/NHQ/" class="nav-link">Node + Http + 前端性能优化</a></div><div class="nav-item"><a href="https://github.com/Msdhu/Msdhu.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/HCJ/JS/正则表达式.html" class="active sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#一-正则基础" class="sidebar-link">一. 正则基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#元字符-metacharacter" class="sidebar-link">元字符 (Metacharacter)</a></li><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#量词" class="sidebar-link">量词</a></li><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#分组" class="sidebar-link">分组</a></li></ul></li><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#二-js正则" class="sidebar-link">二: JS正则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#regexp实例属性" class="sidebar-link">RegExp实例属性</a></li><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#regexp实例方法" class="sidebar-link">RegExp实例方法</a></li><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#与正则相关的字符串方法" class="sidebar-link">与正则相关的字符串方法</a></li><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#regexp-构造函数属性" class="sidebar-link">RegExp 构造函数属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/HCJ/JS/正则表达式.html#三-js正则使用例子" class="sidebar-link">三: JS正则使用例子</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h2 id="一-正则基础"><a href="#一-正则基础" aria-hidden="true" class="header-anchor">#</a> 一. 正则基础</h2> <p>    在编写处理字符串的程序或网页时,经常会有查找符合某些复杂规则的字符串的需要,正则表达式就是用于描述这些规则的工具. 换句话说,正则表达式就是记录文本规则的代码. 说某个字符串匹配某个正则表达式,通常是指这个字符串里有一部分(或几部分)能满足正则表达式给出的条件.</p> <blockquote><p>正则表达式的设计思想是用一种描述性的语言来给字符串定义一个规则,凡是符合规则的字符串,我们就认为它&quot;匹配&quot;了,否则,该字符串就是不合法的.</p></blockquote> <h3 id="元字符-metacharacter"><a href="#元字符-metacharacter" aria-hidden="true" class="header-anchor">#</a> 元字符 (Metacharacter)</h3> <ol><li>\b</li></ol> <p>    代表着单词的开头或结尾,也就是单词的分界处. 通常英文的单词是由空格,标点符号或者换行来分隔的,但是\b并不匹配这些单词分隔字符中的任何一个,它只匹配一个位置. 准确的来说,\b匹配这样的位置: 它的前一个字符和后一个字符不全是(一个是,一个不是或不存在)\w. ( 其中 \w 匹配字母或数字或下划线 <code>[A-Za-z_0-9]</code> ) 即在JS中, <code>/\b\w*\b/g.test(&quot;hi.M27&quot;)</code> 会返回true.</p> <ol start="2"><li>.</li></ol> <p>    匹配除了换行符(\n)和回车符(\r)以外的任意字符. <code>[^\n\r]</code></p> <ol start="3"><li>\s</li></ol> <p>    匹配空白符,包括空格,制表符(\t),换行符(\n),中文全角空格等. <code>[\t\n\r\f\x0B] (\f换页符)</code></p> <ol start="4"><li>\S</li></ol> <p>    匹配非空白符 <code>[^\t\n\r\f\x0B]</code> 如: \S+匹配不包含空白符的字符串.</p> <ol start="5"><li>\w</li></ol> <p>    匹配字母或数字或下划线  [A-Za-z_0-9]</p> <ol start="6"><li>\W</li></ol> <p>    匹配非字母、非数字、非下划线  [^A-Za-z_0-9]</p> <ol start="7"><li>\d</li></ol> <p>    匹配数字 [0-9]</p> <ol start="8"><li>\D</li></ol> <p>    匹配非数字 [^0-9]</p> <ol start="9"><li>^</li></ol> <p>    匹配字符串的开始. <code>/^n\w*/</code> 匹配以字母n开头的任何字符串</p> <ol start="10"><li>$</li></ol> <p>    匹配字符串的结束. <code>/\w*n$/</code> 匹配以字母n结尾的任何字符串</p> <ol start="11"><li>[xyz]   (简单类)</li></ol> <p>    原则上正则的一个字符对应一个字符, 我们可以用[]把它们括起来, 让[]这个整体对应一个字符. 因此上面的正则匹配的就是<code>x|y|z</code>(匹配x、y、z中的任一字符)</p> <ol start="12"><li>[^xyz]  (负向类)</li></ol> <p>    匹配除了xyz这几个字母以外的任意字符. 如: <code>&lt;a[^&gt;]+&gt;</code> 匹配用尖括号括起来的以a开头的字符串.</p> <ol start="13"><li>字符转义</li></ol> <p>    如果要匹配元字符本身, 就需要使用转义符号, 如, 在JS中, 匹配<code>.*\</code> <code>/\.\*\\/.test(&quot;.*\&quot;)</code> 会返回true.</p> <ol start="14"><li>分支条件<code>|</code> (管道符)</li></ol> <p>    正则表达式里的分枝条件指的是有几种规则, 如果满足其中任意一种规则都应该当成匹配, 具体方法是用<code>|</code>把不同的规则分隔开. 如下:
在JS中, <code>/\(0\d{2}\)[- ]?\d{8}|0\d{2}[- ]?\d{8}/g.test(&quot;(000)-11111111&quot;);</code> 会返回true. <code>/\(0\d{2}\)[- ]?\d{8}|0\d{2}[- ]?\d{8}/g.test(&quot;000 11111111&quot;);</code> 也会返回true.</p> <h3 id="量词"><a href="#量词" aria-hidden="true" class="header-anchor">#</a> 量词</h3> <p>    由于元字符与特殊字符或字符类或者它们的组合(中括号)都是一对一进行匹配. 如果我们要匹配&quot;M27&quot;, 最简单的都需要/.../, 如果要匹配的字符越长, 正则也就越长. 而量词就是用于处理这种数量关系的.</p> <ol><li>简单量词</li></ol> <table><thead><tr><th>代码</th> <th style="text-align:center">类型</th> <th style="text-align:right">描述</th></tr></thead> <tbody><tr><td>?</td> <td style="text-align:center">软性量词</td> <td style="text-align:right">出现零次或一次</td></tr> <tr><td>*</td> <td style="text-align:center">软性量词</td> <td style="text-align:right">出现零次或多次 (任意次)</td></tr> <tr><td>+</td> <td style="text-align:center">软性量词</td> <td style="text-align:right">出现一次或多次 (至少一次)</td></tr> <tr><td>{n}</td> <td style="text-align:center">硬性量词</td> <td style="text-align:right">对应n次</td></tr> <tr><td>{n, m}</td> <td style="text-align:center">软性量词</td> <td style="text-align:right">至少出现n次但不超过m次</td></tr> <tr><td>{n, }</td> <td style="text-align:center">软性量词</td> <td style="text-align:right">至少出现n次(+的升级版)</td></tr></tbody></table> <ol start="2"><li>贪婪匹配与懒惰匹配</li></ol> <p><span style="font-size: 18px;">    当正则表达式中包含能接受重复的限定符(简单量词)时, 通常的行为是<span style="background-color: yellow; color: red;">(在使整个表达式能得到匹配的前提下)</span>匹配尽可能多的字符.</span> 以这个正则表达式为例: <code>a.*b</code>, 它将会匹配最长的以a开始, 以b结束的字符串, 如果用它来搜索aabab的话, 它会匹配整个字符串aabab. 这被称为<span style="color: red; font-size: 18px;">贪婪匹配</span>.<br>
    有时, 我们更需要<span style="color: red; font-size: 18px;">懒惰匹配</span>, 也就是(在使整个表达式能得到匹配的前提下)匹配尽可能少的字符. <span style="color: red; font-size: 22px;">简单量词都可以被转化为懒惰匹配模式, 只要在它后面加上一个问号?</span>. 这样 <code>.*?</code> 就意味着匹配任意数量的重复, 但是在使整个表达式能得到匹配的前提下使用最少的重复.<br>
    如果将<code>a.*?b</code>用于搜索aabab的话, 它会匹配aab(第一到第三个字符)和ab(第四到第五个字符).</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 在JS中, 用正则来移除所有的标签, 只留下innerText:</span>
<span class="token keyword">var</span> html <span class="token operator">=</span> <span class="token string">&quot;&lt;p&gt;&lt;a href='http://www.cnblogs.com'&gt;JS&lt;/a&gt;by&lt;em&gt;M27&lt;/em&gt;&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> text <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/&lt;(.|\s)*?&gt;/g</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// --JS-by-M27--</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>    如果上面使用的不是懒惰匹配模式的话, 得到的text就是&quot;-&quot;, 因为正则默认使用贪婪匹配, <code>/&lt;(.|\s)*&gt;/g</code>将会匹配整个html字符串.</p> <h3 id="分组"><a href="#分组" aria-hidden="true" class="header-anchor">#</a> 分组</h3> <p>    到目前为止, 我们只能匹配到一个字符, 虽然量词的出现, 能帮助我们处理一排紧密相连的同类型字符. 但这是不够的, 中括号[]表示范围内选择, 大括号{}表示重复次数, 小括号允许我们重复多个字符, 即用小括号来指定子表达式(也叫做分组).<br>
    如下, 是一个匹配IP地址(注意IP地址中每个数字都不能大于255)的正则表达式:<br> <code>^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$</code><br>
    关键就是理解<code>(2[0-4]\d|25[0-5]|[01]?\d\d?)</code>这个分组.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token regex">/^((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)$/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;192.168.1.0&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 得到的结果为: [&quot;192.168.1.0&quot;, &quot;1.&quot;, &quot;1&quot;, &quot;0&quot;, index: 0, input: &quot;192.168.1.0&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 1.</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol><li>反向引用 (捕获性分组)</li></ol> <p>    使用小括号指定一个子表达式后, 匹配这个子表达式的文本(也就是此分组捕获的内容)可以在表达式或其它程序中作进一步的处理. 默认情况下, 每个分组会自动拥有一个组号, <span style="color: red;">规则是: 从左向右,以分组的左括号为标志,第一个出现的未命名分组的组号为1, 第二个出现的未命名分组的组号为2, 以此类推, 当将未命名分组的组号分配完毕后, 再次的从左向右, 给命名分组分配组号.</span> (因此所有命名组的组号都大于未命名的组号, 并且分组0对应整个正则表达式)<br>
    反向引用用于重复搜索前面某个分组匹配的文本, 每个反向引用都由一个组号或名称来标识, 并通过&quot;\组号&quot;表示法进行引用. 如下:<br>
    →正则表达式<code>\b(\w+)\b\s+\1\b</code>可以用于匹配重复的单词, 像&quot;M27 M27&quot;. 这个正则表达式首先匹配到一个单词<code>(\b(\w+)\b)</code>, 这个单词会被捕获到编号为1的分组中, 然后是1个或几个空白符(\s+), 最后是分组1中捕获的内容(也就是前面匹配的那个单词)(\1).</p> <p>    →<span style="font-size: 22px; color: red;">命名分组</span>: 要指定一个子表达式的组名, 可以使用这样的语法: <code>(?&lt;Word&gt;\w+)</code> 这样就把\w+的组名指定为Word了. 要反向引用这个分组捕获的内容 ,可以使用<code>\k&lt;Word&gt;</code>.<br> <span style="font-size: 22px; color: red;">    注: 在JS中, 不支持命名的分组.</span></p> <ol start="2"><li>非捕获性分组</li></ol> <p>    当我们不希望某个分组被捕获时(即不想被分配组号), 就可以使用非捕获性分组. 通常在左括号后边加上?:, 也就是<code>(?:pattern)</code>这样就变成了一个非捕获性分组.<br>
    在JS中, 如果不想让该分组被类似match()、exec()这样的函数所获取到, 这个时候就可以将该分组设置为非捕获性分组. 如下:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// (?:exp)不会改变正则表达式的处理方式, 只是这样的组匹配的内容不会被捕获到某个组里面, 也不会拥有组号.</span>
<span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token string">&quot;#990000&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token regex">/#(?:\d+)/</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [&quot;#990000&quot;, index: 0, input: &quot;#990000&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>零宽断言 (只用于指定一个满足一定条件的位置)</li></ol> <p>    前面所有的正则都需要匹配一个或者多个字符, 但是接下来要讲的两个正则它只匹配一个位置, 并不消费任何字符. <span style="font-size: 22px; color: red;">接下来的两个正则用于查找在某些内容(但并不包括这些内容)之前的东西, 也就是说它们像\b、 ^、 $那样用于指定一个位置, 这个位置应该满足一定的条件(即断言), 因此它们也被称为零宽断言.</span></p> <blockquote><p><span style="color: red;"><code>(?=exp)</code>也叫零宽度正预测先行断言(正向前瞻). 匹配exp前面的位置, 它断言此位置的后面能匹配表达式exp.</span> 比如 <code>\b\w+(?=ing\b)</code>, 匹配以ing结尾的单词的前面部分(除了ing以外的部分), 如查找 I'm singing while you're dancing. 时, 它会匹配 sing 和 danc.</p></blockquote> <blockquote><p><span style="color: red;"><code>(?!exp)</code>也叫零宽度负预测先行断言(负向前瞻). 匹配exp前面的位置, 它断言此位置的后面不能匹配表达式exp.</span></p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str1 <span class="token operator">=</span> <span class="token string">&quot;bedroom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> str2 <span class="token operator">=</span> <span class="token string">&quot;bedding&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern1 <span class="token operator">=</span> <span class="token regex">/(bed(?=room))/</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern2 <span class="token operator">=</span> <span class="token regex">/(bed(?!room))/</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// bed</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">2</span> <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern2<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><span style="font-size: 24px;">    →注: JS只支持上面的两种前瞻断言.</span></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 在JS中, 用正则来移除hr以外的所有标签, 只留下innerText: </span>
<span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token string">&quot;&lt;p&gt;&lt;a href='#'&gt;JS&lt;/a&gt;&lt;/p&gt;&lt;hr/&gt;&lt;p&gt;by&lt;em&gt;M27&lt;/em&gt;&lt;/p&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> text <span class="token operator">=</span> html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/&lt;(?!hr)(.|\s)*?&gt;/ig</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// --JS--&lt;hr/&gt;-by-M27—</span>

<span class="token comment">// 在JS中, 假如你想要给一个很长的数字中每三位间加一个逗号, 可以如下操作:</span>
<span class="token keyword">const</span> html <span class="token operator">=</span> <span class="token string">&quot;123456780123456789&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex">/(\d{3})(?=\d)/g</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> str <span class="token operator">=&gt;</span> str <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// console.log(html.replace(reg, &quot;$1,&quot;));</span>

<span class="token comment">// 在JS中, 假如需要匹配密码必须有至少一个大写字母, 一个小写字母, 一个数字, 并且长度至少6位而且只能是数字字母组合, 可以如下操作:</span>
<span class="token regex">/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)[A-Za-z0-9]{6,}$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;123Abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="二-js正则"><a href="#二-js正则" aria-hidden="true" class="header-anchor">#</a> 二: JS正则</h2> <p>    ECMAScript通过RegExp类型来支持正则表达式. 使用类似Perl的语法, 就可以创建一个正则表达式: <code>var pattern = /pattern/flags;</code><br>
    其中的模式(pattern)部分可以是任何简单或者复杂的正则表达式, 可以包含字符类、量词、分组、正向查找(前向断言)和反向引用. 每个正则表达式都可以带有一或多个标志(flags),用以表明正则表达式的行为.</p> <div class="tip custom-block"><p class="custom-block-title">正则表达式的匹配模式支持以下3个标志:</p> <ol><li>g: 全局(global)模式.</li> <li>i: 表示不区分大小写(case-insensitive)模式, 即在确定匹配项时忽略模式与字符串的大小写.</li> <li>m: 表示多行(multiline)模式. 即在到达一行文本末尾时, 还会继续查找下一行中是否存在于模式匹配的项.</li></ol></div> <p>    与其他语言的正则类似, 模式中使用的所有元字符都必须转义, 其中包含的元字符如下: <code>( [ { \ ^ $ | ? * + . } ] )</code><br>
    既可以使用字面量形式创建正则表达式, 也可以使用 RegExp 构造函数创建正则表达式, 它接收两个字符串参数: 一个是要匹配的字符串模式, 另一个是可选的标志字符串, 如下:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&quot;\\[bc\\]at&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ig&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>    需要注意的是, 传递给RegExp构造函数的两个参数都是字符串(不能把正则表达式字面量传递给RegExp构造函数), 由于其模式参数是字符串, 因此在某些情况下要对字符进行双重转义, 所有的元字符都必须双重转义, 那些已经转义过的字符也是如此, 如下:</p> <table><thead><tr><th style="text-align:center">正则字面量形式</th> <th style="text-align:center">等价的RegExp字符串参数</th></tr></thead> <tbody><tr><td style="text-align:center"><code>/\[bc\]at/</code></td> <td style="text-align:center"><code>&quot;\\[bc\\]at&quot;</code></td></tr> <tr><td style="text-align:center"><code>/\.at/</code></td> <td style="text-align:center"><code>&quot;\\.at&quot;</code></td></tr> <tr><td style="text-align:center"><code>/name\/age/</code></td> <td style="text-align:center"><code>&quot;name\\/age&quot;</code></td></tr> <tr><td style="text-align:center"><code>/\w\\hello\\123/</code></td> <td style="text-align:center"><code>&quot;\\w\\\\hello\\\\123&quot;</code></td></tr></tbody></table> <h3 id="regexp实例属性"><a href="#regexp实例属性" aria-hidden="true" class="header-anchor">#</a> RegExp实例属性</h3> <div class="tip custom-block"><p class="custom-block-title">RegExp的每个实例都有下面的属性, 通过这些属性就可以获得有关模式的各种信息.</p> <ol><li>global: 布尔值, 是否设置了g标志.</li> <li>ignoreCase: 布尔值, 是否设置了i标志.</li> <li>multiline: 布尔值, 是否设置了m标志.</li> <li><span style="color: red;">lastIndex: 整数, 表示开始搜索下一个匹配项的字符位置, 从0算起.</span></li> <li>source: 正则表达式的字符串表示, 按照字面量的形式而非传入构造函数中的字符串模式返回.</li></ol> <p>通过上面的这些属性可以获知一个正则表达式的各方面的信息,但是却没有太大的用处,因为这些信息全都包含在模式声明中了.</p></div> <h3 id="regexp实例方法"><a href="#regexp实例方法" aria-hidden="true" class="header-anchor">#</a> RegExp实例方法</h3> <div class="tip custom-block"><p class="custom-block-title">1. exec()方法.</p> <p>RegExp对象的主要方法是exec(), 该方法是专门为捕获组而设计的. exec()方法接受一个参数, 即要应用模式的字符串, 然后返回包含第一个匹配项信息的数组, 或者在没有匹配项的情况下返回null.</p></div> <p><span style="color: red; font-size: 26px;">    注:</span> 在返回的数组中, 第一项是与整个模式匹配的字符串, 其他项是与模式中的捕获组匹配的字符串( 如果模式中没有捕获组,则该数组只包含一项 ), 返回的数组中还包含两个额外的属性: index和input. 其中, index表示匹配项在字符串中的位置, input表示应用正则表达式的字符串. 如下:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;cat, bat, sat, fat&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex">/(.)at/</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> matchs <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;cat&quot;, &quot;c&quot;, index: 0, input: &quot;cat, bat, sat, fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;cat&quot;   第一个匹配项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;c&quot;     捕获组匹配的字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 0 表示开始搜索下一个匹配项的字符位置</span>

matchs <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;cat&quot;, &quot;c&quot;, index: 0, input: &quot;cat, bat, sat, fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;cat&quot;   第一个匹配项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;c&quot;     捕获组匹配的字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 0 表示开始搜索下一个匹配项的字符位置</span>
<span class="token comment">/*
** 在不设置全局标志(g)的情况下, 在同一个字符串上多次调用 exec() 将始终返回第一个匹配项的信息.
** 而在设置了全局标志(g)的情况下, 每次调用 exec() 则都会在字符串中继续查找新匹配项. 如下:
*/</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;cat, bat, sat, fat&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex">/(.)at/g</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> matchs <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;cat&quot;, &quot;c&quot;, index: 0, input: &quot;cat, bat, sat, fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;cat&quot;   第一个匹配项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;c&quot;     捕获组匹配的字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 3 表示开始搜索下一个匹配项的字符位置     </span>

matchs <span class="token operator">=</span> pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;bat&quot;, &quot;b&quot;, index: 5, input: &quot;cat, bat, sat, fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;bat&quot;   第一个新的匹配项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;b&quot;     捕获组匹配的字符串</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 8 表示开始搜索下一个匹配项的字符位置</span>
<span class="token comment">/*
** 因为模式 pattern 是全局模式, 因此每次调用 exec() 都会返回字符串中的下一个匹配项, 直到搜索到字符串末尾为止.
** 注意模式的 lastIndex 属性的变化, 在全局模式匹配下, lastIndex的值在每次调用exec()后都会增加, 而在非全局模式下则始终保持不变. 
** 对于exec()方法, 即使在模式匹配中设置了全局标志(g), 它每次也只会返回一个匹配项!
** -----------------------------------------------
** lastIndex 表示匹配成功时候, 匹配内容最后一个字符所在原字符串中的位置+1.
** 也就是匹配内容的下一个字符的index(如果匹配内容在字符串的结尾, 同样返回原字符串中的位置+1, 也就是字符串的length, 如果匹配失败则重置 lastIndex 的值为0).
** 如果未带参数g, lastIndex始终为0.
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">2. test()方法.</p> <p>该函数接收一个字符串参数, 在模式与该参数匹配的情况下返回true, 否则,返回false. 在只想知道目标字符串与某个模式是否匹配, 但不需要知道其文本内容的情况下, 使用这个方法是非常方便的.<br>
如果调用 test 方法的正则表达式中设置了全局标志(g), 那么在每次匹配的时候, 该正则表达式的 lastIndex 属性的值同样是会变化的.</p></div> <div class="tip custom-block"><p class="custom-block-title">3. toString()方法.</p> <p>RegExp实例的 toString() 方法会返回正则表达式的字面量字符串, 与创建正则表达式的方式无关</p></div> <div class="tip custom-block"><p class="custom-block-title">4. valueOf()方法.</p> <p>RegExp实例的 valueOf() 方法则会返回正则表达式本身</p></div> <h3 id="与正则相关的字符串方法"><a href="#与正则相关的字符串方法" aria-hidden="true" class="header-anchor">#</a> 与正则相关的字符串方法</h3> <div class="tip custom-block"><p class="custom-block-title">1. match()方法.</p> <p>在字符串上调用这个方法, match()方法只接受一个参数, 要么是一个正则表达式, 要么是一个RegExp对象.<br>
match()方法可在字符串内检索指定的值, 或找到一个或多个正则表达式的匹配, <span style="color: red; font-size: 22px;">match()方法返回一个数组, 该数组的内容依赖于正则表达式是否具有全局标志g.</span></p></div> <ol><li>当正则表达式不带有全局标志g时.</li></ol> <p>    如果 regexp 没有标志g, 那么 match() 方法就只能在字符串中执行一次匹配.<br>
    如果没有找到任何匹配的文本, match()将返回 null. 否则, 它将返回一个数组, 在数组中, 第一项是与整个模式匹配的字符串, 其他项是与模式中的捕获组匹配的字符串 (如果模式中没有捕获组, 则该数组只包含一项).<br>
    返回的数组中还包含两个额外的属性: index 和 input. 其中, index 表示匹配项在字符串中的位置, input 表示应用正则表达式的字符串. (同正则表达式exec()方法的返回值)</p> <ol start="2"><li>当正则表达式带有全局标志g时.</li></ol> <p>    如果 regexp 具有标志g, 则 match() 方法将执行全局检索, 找到字符串中的所有匹配子字符串.<br>
    若没有找到任何匹配的子串, 则返回null, 如果找到了一个或多个匹配子串, 则返回一个包含所有的匹配子串的数组, 且数组中不再包含 index 属性或 input 属性.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 注: match()不管是否带g(全局匹配), 连续多次匹配获取的结果都一样. 如下:</span>
<span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;cat, bat, sat, fat&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> patternOne <span class="token operator">=</span> <span class="token regex">/(.)at/</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> matchs <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>patternOne<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;cat&quot;, &quot;c&quot;, index: 0, input: &quot;cat, bat, sat, fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;cat&quot;   第一个匹配项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;c&quot;     捕获组匹配的字符串</span>

matchs <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>patternOne<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;cat&quot;, &quot;c&quot;, index: 0, input: &quot;cat, bat, sat, fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;cat&quot;   第一个匹配项</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;c&quot;     捕获组匹配的字符串</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token keyword">const</span> patternTwo <span class="token operator">=</span> <span class="token regex">/(.)at/g</span><span class="token punctuation">;</span>
matchs <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>patternTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;cat&quot;, &quot;bat&quot;, &quot;sat&quot;, &quot;fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;cat&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;bat&quot;</span>

matchs <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>patternTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;cat&quot;, &quot;bat&quot;, &quot;sat&quot;, &quot;fat&quot;]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;cat&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>matchs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;bat&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">2. seach()方法.</p> <p>search() 方法用于检索字符串中指定的子字符串, 或检索与正则表达式相匹配的子字符串.(如果要执行忽略大小写的检索，请在正则表达式后面追加标志i, 且该方法不执行全局匹配, 它将忽略标志g. 😃)<br> <span style="color: red; font-size: 22px;">search()方法返回字符串中第一个匹配项的索引</span>, 如果没有匹配项, 则返回-1. (注: search方法始终是从字符串开头向后查找匹配的.)</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&quot;M27 is stupid!&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pos <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex">/M27/i</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">3. replace()方法.</p> <p>replace() 方法简化了替换子字符串的操作, 该方法接受两个参数, 返回一个用 replacement 替换了 regexp 的第一次匹配或所有匹配之后得到的新的字符串.  如下:<br> <code>string.replace(regexp/substr, replacement);</code></p></div> <ol><li>regexp/substr</li></ol> <p>    必需, 一个正则表达式或是一个字符串(该字符串不会被转换成正则表达式). 如果是字符串, 则只会替换第一个子字符串, 想要替换所有的子字符串, 唯一的办法就是提供一个指定全局标志(g)的正则表达式.</p> <ol start="2"><li>replacement</li></ol> <p>    必需, 一个字符串值. 规定了替换文本或生成替换文本的函数.<br> <span style="color: red; font-size: 26px;">  注</span>: 当 replacement 是字符串时, 那么每个匹配都将由字符串替换. 但是 replacement中的 $ 字符具有特定的含义. 如下表所示, 它说明从模式匹配得到的字符串将用于替换.</p> <table><thead><tr><th style="text-align:center">字符</th> <th style="text-align:center">替换文本</th></tr></thead> <tbody><tr><td style="text-align:center">$1、$2、...、$99</td> <td style="text-align:center">匹配 regexp 中的第1到第99个捕获组的子字符串</td></tr> <tr><td style="text-align:center">$&amp;</td> <td style="text-align:center">匹配整个模式的子字符串</td></tr> <tr><td style="text-align:center">$`</td> <td style="text-align:center">位于匹配子串左侧的文本. 与 RegExp.leftContext 的值相同</td></tr> <tr><td style="text-align:center">$'</td> <td style="text-align:center">位于匹配子串右侧的文本. 与 RegExp.rightContext 的值相同</td></tr> <tr><td style="text-align:center">$$</td> <td style="text-align:center">直接量符号$</td></tr></tbody></table> <p>    当 replacement 为函数时, 在这种情况下, 每个匹配都调用该函数, 它返回的字符串将作为替换文本使用. 该函数的第一个参数是与模式匹配的字符串, 接下来的参数是与模式中的捕获组匹配的字符串( 如果有的话 ), 可以有0个或多个这样的参数, 接下来的参数是一个整数, 声明了匹配在 string 中出现的位置, 最后一个参数是 string 本身. 如下, 实现下划线命名转驼峰命名:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">changeVarStyle</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\_([a-zA-Z0-9])+/g</span><span class="token punctuation">,</span> match <span class="token operator">=&gt;</span> match<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> match<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">4. split()方法.</p> <p>该方法可以基于指定的分隔符分割将一个字符串分割多个子字符串, 并将结果放在一个数组中返回.<br>
分隔符可以是字符串, 也可以是一个 RegExp 对象. <code>string.split(separator, howmany)</code><br>
如果把空字符串('')用作 separator, 那么 string 中的每个字符之间都会被分割.</p></div> <h3 id="regexp-构造函数属性"><a href="#regexp-构造函数属性" aria-hidden="true" class="header-anchor">#</a> RegExp 构造函数属性</h3> <p>    RegExp构造函数包含一些属性. <span style="color: red; font-size: 22px;">这些属性使用于作用域中的所有正则表达式, 并且基于所执行的最近一次正则表达式操作而变化.</span> 这些属性分别有一个长属性名和短属性名(Opera是例外, 它不支持短属性名). 下面列出了RegExp构造函数的属性:</p> <table><thead><tr><th style="text-align:center">字符</th> <th style="text-align:center">替换文本</th></tr></thead> <tbody><tr><td style="text-align:center">input ( $_ )</td> <td style="text-align:center">最近一次要匹配的字符串. Opera未实现此属性</td></tr> <tr><td style="text-align:center">lastMatch ( $&amp; )</td> <td style="text-align:center">最近一次的匹配项.  Opera未实现此属性</td></tr> <tr><td style="text-align:center">lastParen ( $+ )</td> <td style="text-align:center">最近一次的匹配的捕获组.  Opera未实现此属性</td></tr> <tr><td style="text-align:center">leftContext ( $` )</td> <td style="text-align:center">位于匹配子串左侧的文本.</td></tr> <tr><td style="text-align:center">rightContext ( $' )</td> <td style="text-align:center">位于匹配子串右侧的文本.</td></tr></tbody></table> <p>    使用这些属性可以从 exec() 和 test() 执行的结果中提取出更具体的信息, 如下:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token string">&quot;this is a short summer&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> pattern <span class="token operator">=</span> <span class="token regex">/(.)hort/g</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// this is a short summer</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>lastMatch<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// short</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>lastParen<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// s</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>leftContext<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// this is a </span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>rightContext<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// summer</span>
<span class="token punctuation">}</span>
<span class="token comment">/*
** 上面的长属性名都可以使用相应的短属性名来访问.
** 由于这些短属性名大多都不是有效的 ECMAScript 标识符, 因此必须通过方括号语法来访问它们, 即:
   RegExp.lastMatch         →  RegExp[&quot;$&amp;&quot;]
   RegExp.lastParen         →  RegExp[&quot;$+&quot;]
   RegExp.leftContext       →  RegExp[&quot;$`&quot;]
   RegExp.rightContext      →  RegExp[&quot;$'&quot;]
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><span style="color: red; font-size: 26px;">  注:</span> 除了上面介绍的几个属性, <span style="color: red;">还有9个用于存储捕获组的构造函数属性</span>. 访问这些属性的语法是 RegExp.$1, RegExp.$2, RegExp.$3 .... RegExp.$9. 分别用于存储第一、第二、第三 .... 第九个匹配的捕获组. <span style="color: red; font-size: 22px;">在调用exec()或者test()方法时, 这些属性会被自动填充.</span></p> <h2 id="三-js正则使用例子"><a href="#三-js正则使用例子" aria-hidden="true" class="header-anchor">#</a> 三: JS正则使用例子</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1. 获取 url 中的查询参数.</span>
<span class="token keyword">function</span> <span class="token function">getParam</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`\\b</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=([^&amp;#?]*)`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> m <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> m <span class="token operator">?</span> m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2. 获取 url 中的 Hash 值.</span>
<span class="token keyword">function</span> <span class="token function">getHashString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> s <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
  <span class="token keyword">const</span> m <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/#([^&amp;#?]*)/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> m <span class="token operator">?</span> m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">''</span> <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 3. 设置 url 中的查询参数.</span>
<span class="token keyword">function</span> <span class="token function">setUrlParam</span><span class="token punctuation">(</span>link<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> currentUrl <span class="token operator">=</span> link<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=([^&amp;]*)`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex">/\?/g</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>currentUrl<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>currentUrl<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      currentUrl <span class="token operator">=</span> currentUrl<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      currentUrl <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`&amp;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    currentUrl <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>link<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    currentUrl <span class="token operator">+=</span> <span class="token template-string"><span class="token string">`#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>link<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'#'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> currentUrl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">setUrlParams</span><span class="token punctuation">(</span>link<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    link <span class="token operator">=</span> <span class="token function">setUrlParam</span><span class="token punctuation">(</span>link<span class="token punctuation">,</span> i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> link<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 4. 驼峰命名转下划线/连接符命名 ( componentMapModelRegistry )</span>
<span class="token keyword">function</span> <span class="token function">changeVarStyleOne</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/^([a-z][a-z0-9]+)|([A-Z][a-z0-9]*)/g</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/14/2019, 8:59:28 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.441505dd.js" defer></script><script src="/assets/js/5.582427b2.js" defer></script>
  </body>
</html>
